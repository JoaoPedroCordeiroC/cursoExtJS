<html>
<head>

    <link rel="stylesheet" type="text/css" href="../extjs/resources/css/ext-all.css">
	<script type="text/javascript" src="../extjs/ext-all.js"></script>

</head>

<body></body>

<script type="text/javascript">

    Ext.define('Contato', {
        extend: 'Ext.data.Model',

        fields: [
            {name: 'id', type: 'int'},
            {name: 'nome', type: 'string'},
            {name: 'email', type: 'string'}
        ],

        // O proxy diz qual a maneira que vamos comunicar com o servidor
        proxy: {
            type: 'rest',
            url: 'contatos',
            format: 'json'
        }
    })

    Ext.onReady(function() {

        /*var contato = Ext.create('Contato', {
            nome: 'Joao',
            email: 'joao@email.com'
        });

        // Vai mandar uma requisição POST para o servidor
        contato.save();*/

        Contato.load(1, {
            success: function (contato) {
                console.log('Nome do contato é ' + contato.get('nome'));

                contato.set('nome', 'Curso ExtJS 4');

                contato.save();

                contato.destroy();
            }
        });
    });
</script>

</html>